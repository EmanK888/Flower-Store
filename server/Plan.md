# **Models & Their Functions**

## 1. **User Model**

ðŸ“Œ Stores customer and admin data.

**Fields:**

* `_id` (auto-generated by DB)
* `name`
* `email` (unique, required for login)
* `passwordHash` (bcrypt hashed)
* `role` (`customer` | `admin`)
* `addresses` (list of shipping addresses)
* `wishlist` (array of product IDs)
* `createdAt`, `updatedAt`


**Functions / Responsibilities:**

* Authenticate user (verify password).
* Register new users.
* Update profile information.
* Manage saved addresses.
* Manage wishlist (add/remove).
* Password reset (generate reset token, verify token).

---

## 2. **Product Model**

ðŸ“Œ Stores product catalog details.

**Fields:**

* `_id`
* `name`
* `description`
* `category`
* `size`, `color`, `material`
* `price`
* `stock` (quantity available)
* `images` (array of image URLs)
* `ratings` (array: `{ userId, rating, comment }`)
* `createdAt`, `updatedAt`

**Functions / Responsibilities:**

* List products with filters/search/sort.
* Fetch product details.
* Add new product (admin).
* Update product details (admin).
* Remove product (admin).

---

## 3. **Cart Model**

ðŸ“Œ Stores the current items a user wants to purchase.

**Fields:**

* `_id`
* `userId` (reference to User)
* `items` (array: `{ productId, quantity }`)
* `totalPrice` (calculated dynamically)
* `updatedAt`

**Functions / Responsibilities:**

* Add product to cart.
* Update quantity of a product.
* Remove product from cart.
* Calculate total (including tax/shipping).
* Clear cart after checkout.

---

## 4. **Wishlist Model** (if stored separately, or embedded in User)

ðŸ“Œ Stores userâ€™s favorite products.

**Fields:**

* `_id`
* `userId`
* `products` (array of product IDs)

**Functions / Responsibilities:**

* Add product to wishlist.
* Remove product from wishlist.
* Move product from wishlist â†’ cart.

---

## 5. **Order Model**

ðŸ“Œ Stores completed purchases and their statuses.

**Fields:**

* `_id`
* `userId`
* `items` (array: `{ productId, quantity, price }`)
* `shippingAddress`
* `billingDetails`
* `paymentStatus` (`pending` | `paid` | `failed`)
* `orderStatus` (`processing` | `shipped` | `delivered`)
* `trackingId`
* `createdAt`, `updatedAt`

**Functions / Responsibilities:**

* Create new order during checkout.
* Store and update payment status (via Stripe/PayPal).
* Update order status (admin).
* Track order by ID/trackingId.
* Fetch userâ€™s order history.

---

## 6. **Review Model** (optional, can be embedded in Product)

ðŸ“Œ Stores customer reviews.

**Fields:**

* `_id`
* `productId`
* `userId`
* `rating` (1â€“5 stars)
* `comment`
* `createdAt`

**Functions / Responsibilities:**

* Add review to product.
* Delete review (admin or user who posted it).
* Aggregate ratings for product.

---


# ðŸ—‚ Summary of Models & Functions

* **User** â†’ authentication, profile, wishlist, addresses
* **Product** â†’ catalog, details, reviews, stock management
* **Cart** â†’ temporary user cart before checkout
* **Wishlist** â†’ favorites (optional separate collection)
* **Order** â†’ checkout, payments, tracking, history
* **Review** â†’ product feedback (can be inside Product)

---

